# Flyway configuration for guest pass bot database migrations
#
# This file configures Flyway for database schema versioning and migrations.
# Migrations are SQL files in the migrations/ directory following the naming convention:
# V<version>__<description>.sql (e.g., V1__initial_schema.sql)

# Database connection (overridden by environment variables)
flyway.url=jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
flyway.user=${POSTGRES_USER}
flyway.password=${POSTGRES_PASSWORD}

# Migrations location
flyway.locations=filesystem:/flyway/sql

# Schema to manage
flyway.schemas=public

# Validate migrations on migrate
flyway.validateOnMigrate=true

# Clean disabled in production for safety
flyway.cleanDisabled=false

# Baseline on migrate for existing databases
flyway.baselineOnMigrate=true
flyway.baselineVersion=0

# SQL migration settings
flyway.sqlMigrationPrefix=V
flyway.sqlMigrationSeparator=__
flyway.sqlMigrationSuffixes=.sql

# Placeholder replacement
flyway.placeholderReplacement=true
flyway.placeholders.database=${POSTGRES_DB}